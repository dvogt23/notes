<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Linux commands - Knowledge book</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Fixable notes of my life and experience">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../favicon.svg">
                        <link rel="shortcut icon" href="../../favicon.png">
                <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
                <link rel="stylesheet" href="../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> Knowledge</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../productivity.html"><strong aria-hidden="true">1.1.</strong> Productivity</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Tech</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">2.1.</strong> Apps</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tech/app/pass.html"><strong aria-hidden="true">2.1.1.</strong> Pass</a></li><li class="chapter-item expanded "><a href="../../tech/app/vim.html"><strong aria-hidden="true">2.1.2.</strong> Vim</a></li><li class="chapter-item expanded "><a href="../../tech/app/firefox.html"><strong aria-hidden="true">2.1.3.</strong> Firefox</a></li></ol></li><li class="chapter-item expanded "><a href="../../tech/bash.html"><strong aria-hidden="true">2.2.</strong> Bash</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.3.</strong> Coding</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tech/coding/basic.html"><strong aria-hidden="true">2.3.1.</strong> Basic</a></li><li class="chapter-item expanded "><a href="../../tech/coding/environment.html"><strong aria-hidden="true">2.3.2.</strong> Environment</a></li><li class="chapter-item expanded "><a href="../../tech/coding/git.html"><strong aria-hidden="true">2.3.3.</strong> Git</a></li><li class="chapter-item expanded "><a href="../../tech/coding/kotlin.html"><strong aria-hidden="true">2.3.4.</strong> Kotlin</a></li><li class="chapter-item expanded "><a href="../../tech/coding/make.html"><strong aria-hidden="true">2.3.5.</strong> Make</a></li><li class="chapter-item expanded "><a href="../../tech/coding/maven.html"><strong aria-hidden="true">2.3.6.</strong> Maven</a></li><li class="chapter-item expanded "><a href="../../tech/coding/rust.html"><strong aria-hidden="true">2.3.7.</strong> Rust</a></li><li class="chapter-item expanded "><a href="../../tech/coding/javascript.html"><strong aria-hidden="true">2.3.8.</strong> Javascript</a></li><li class="chapter-item expanded "><a href="../../tech/coding/python.html"><strong aria-hidden="true">2.3.9.</strong> Python</a></li></ol></li><li class="chapter-item expanded "><a href="../../tech/equipment.html"><strong aria-hidden="true">2.4.</strong> Equipment</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.5.</strong> Linux</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tech/linux/apps.html"><strong aria-hidden="true">2.5.1.</strong> Apps</a></li><li class="chapter-item expanded "><a href="../../tech/linux/arch.html"><strong aria-hidden="true">2.5.2.</strong> Arch linux</a></li><li class="chapter-item expanded "><a href="../../tech/linux/linux_commands.html" class="active"><strong aria-hidden="true">2.5.3.</strong> Linux commands</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.6.</strong> Self-hosting</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tech/selfhosting/ideas.html"><strong aria-hidden="true">2.6.1.</strong> Ideas</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.7.</strong> Smart-Home</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tech/smarthome/knx.html"><strong aria-hidden="true">2.7.1.</strong> KNX</a></li><li class="chapter-item expanded "><a href="../../tech/smarthome/homeassistent.html"><strong aria-hidden="true">2.7.2.</strong> Home-Assistent</a></li></ol></li><li class="chapter-item expanded "><a href="../../tech/misc.html"><strong aria-hidden="true">2.8.</strong> Misc</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Personal</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> Input</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../personal/input/music.html"><strong aria-hidden="true">3.1.1.</strong> Music</a></li><li class="chapter-item expanded "><a href="../../personal/input/books.html"><strong aria-hidden="true">3.1.2.</strong> Books</a></li><li class="chapter-item expanded "><a href="../../personal/input/podcasts.html"><strong aria-hidden="true">3.1.3.</strong> Podcasts</a></li><li class="chapter-item expanded "><a href="../../personal/input/series.html"><strong aria-hidden="true">3.1.4.</strong> Series</a></li><li class="chapter-item expanded "><a href="../../personal/input/movies.html"><strong aria-hidden="true">3.1.5.</strong> Movies</a></li><li class="chapter-item expanded "><a href="../../personal/input/videos.html"><strong aria-hidden="true">3.1.6.</strong> Videos</a></li><li class="chapter-item expanded "><a href="../../personal/input/articles.html"><strong aria-hidden="true">3.1.7.</strong> Articles</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> Home</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../personal/home/furniture.html"><strong aria-hidden="true">3.2.1.</strong> Furniture</a></li><li class="chapter-item expanded "><a href="../../personal/home/clothing.html"><strong aria-hidden="true">3.2.2.</strong> Clothing</a></li><li class="chapter-item expanded "><a href="../../personal/home/cooking.html"><strong aria-hidden="true">3.2.3.</strong> Cooking</a></li><li class="chapter-item expanded "><a href="../../personal/home/garden.html"><strong aria-hidden="true">3.2.4.</strong> Garden</a></li><li class="chapter-item expanded "><a href="../../personal/home/garage.html"><strong aria-hidden="true">3.2.5.</strong> Garage</a></li><li class="chapter-item expanded "><a href="../../personal/home/pharmacy.html"><strong aria-hidden="true">3.2.6.</strong> Pharmacy</a></li><li class="chapter-item expanded "><a href="../../personal/home/homestead.html"><strong aria-hidden="true">3.2.7.</strong> Homestead</a></li><li class="chapter-item expanded "><a href="../../personal/home/kids.html"><strong aria-hidden="true">3.2.8.</strong> Kids</a></li></ol></li><li class="chapter-item expanded "><a href="../../personal/learning/index.html"><strong aria-hidden="true">3.3.</strong> Learning</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../personal/learning/rails.html"><strong aria-hidden="true">3.3.1.</strong> Rails</a></li><li class="chapter-item expanded "><a href="../../personal/learning/ruby.html"><strong aria-hidden="true">3.3.2.</strong> Ruby</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.4.</strong> Sport</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../personal/sport/cycling.html"><strong aria-hidden="true">3.4.1.</strong> Cycling</a></li><li class="chapter-item expanded "><a href="../../personal/sport/hiking.html"><strong aria-hidden="true">3.4.2.</strong> Hiking</a></li></ol></li><li class="chapter-item expanded "><a href="../../personal/misc.html"><strong aria-hidden="true">3.5.</strong> Misc</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Travel</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">4.1.</strong> Countries</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../travel/austria.html"><strong aria-hidden="true">4.1.1.</strong> Austria</a></li><li class="chapter-item expanded "><a href="../../travel/france.html"><strong aria-hidden="true">4.1.2.</strong> France</a></li><li class="chapter-item expanded "><a href="../../travel/germany.html"><strong aria-hidden="true">4.1.3.</strong> Germany</a></li><li class="chapter-item expanded "><a href="../../travel/greatbritian.html"><strong aria-hidden="true">4.1.4.</strong> Great britian</a></li><li class="chapter-item expanded "><a href="../../travel/greek.html"><strong aria-hidden="true">4.1.5.</strong> Greek</a></li><li class="chapter-item expanded "><a href="../../travel/israel.html"><strong aria-hidden="true">4.1.6.</strong> Israel</a></li><li class="chapter-item expanded "><a href="../../travel/italy.html"><strong aria-hidden="true">4.1.7.</strong> Italy</a></li><li class="chapter-item expanded "><a href="../../travel/kroatia.html"><strong aria-hidden="true">4.1.8.</strong> Kroatia</a></li><li class="chapter-item expanded "><a href="../../travel/marokko.html"><strong aria-hidden="true">4.1.9.</strong> Marokko</a></li><li class="chapter-item expanded "><a href="../../travel/netherland.html"><strong aria-hidden="true">4.1.10.</strong> Netherland</a></li><li class="chapter-item expanded "><a href="../../travel/portugal.html"><strong aria-hidden="true">4.1.11.</strong> Portugal</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Misc</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../misc/arts.html"><strong aria-hidden="true">5.1.</strong> Arts</a></li><li class="chapter-item expanded "><a href="../../misc/jokes.html"><strong aria-hidden="true">5.2.</strong> Jokes</a></li><li class="chapter-item expanded "><a href="../../misc/newwords.html"><strong aria-hidden="true">5.3.</strong> New words</a></li><li class="chapter-item expanded "><a href="../../misc/poems.html"><strong aria-hidden="true">5.4.</strong> Poems</a></li><li class="chapter-item expanded "><a href="../../misc/quotes.html"><strong aria-hidden="true">5.5.</strong> Quotes</a></li><li class="chapter-item expanded "><a href="../../misc/wie_man_gut_Schreibt.html"><strong aria-hidden="true">5.6.</strong> Wie man gut schreibt?</a></li><li class="chapter-item expanded "><a href="../../misc/29ways_to_stay_creative.html"><strong aria-hidden="true">5.7.</strong> 29 ways to stay creative</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Knowledge book</h1>

                    <div class="right-buttons">
                                                <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="linux-commands"><a class="header" href="#linux-commands">Linux commands</a></h1>
<p>@linux @bash</p>
<h3 id="useful-oneliners"><a class="header" href="#useful-oneliners">Useful oneliners</a></h3>
<p>Show dir sizes: <code>du -hs */ | sort -hr | head</code></p>
<h3 id="a-one-liner-version-incrementer"><a class="header" href="#a-one-liner-version-incrementer">A one-liner version incrementer</a></h3>
<pre><code class="language-bash">inc_version() {
    awk -F. -vOFS=. '{ $ver++; while(ver++&lt;NF) $ver=0; print $0 }' ver=$1
}
</code></pre>
<p>Source: https://gir.st/blog/inc-version.htm</p>
<h3 id="reset-efivars-in-bootmenu-bootctl"><a class="header" href="#reset-efivars-in-bootmenu-bootctl">Reset efivars in bootmenu (bootctl)</a></h3>
<p>To remove LoaderEntryDefault-[...] variable it was enough to press d key twice 
in the boot menu: to set and unset a new value.
To remove LoaderConfigTimeout-[...] variable it turned out enough to press 
Shift+t enough times to set the timeout to 0, plus one more time.
<a href="https://unix.stackexchange.com/questions/459389/systemd-boot-skips-boot-menu-and-ignores-settings-in-loader-loader-conf">Link</a></p>
<h3 id="list-open-ports"><a class="header" href="#list-open-ports">List open ports</a></h3>
<pre><code>sudo ss -tulpn
sudo netstat -tulpn | grep LISTEN
sudo lsof -i -P -n | grep LISTEN    # process list
sudo nmap -sT -O localhost # scan localhost
</code></pre>
<h3 id="find-file-from-inode-number"><a class="header" href="#find-file-from-inode-number">Find file from iNode Number</a></h3>
<pre><code>find ~/ -inum 123456
</code></pre>
<h3 id="start-gui-app-in-background-from-commandline"><a class="header" href="#start-gui-app-in-background-from-commandline">Start GUI app in background from commandline</a></h3>
<pre><code>&lt;guiapp&gt; . &amp;!
</code></pre>
<h3 id="run-last-command-as-root"><a class="header" href="#run-last-command-as-root">Run last command as root</a></h3>
<pre><code>sudo !!
</code></pre>
<h3 id="serve-current-dir-tree-at-8080"><a class="header" href="#serve-current-dir-tree-at-8080">Serve current dir tree at :8080</a></h3>
<p>Only in python2</p>
<pre><code>python -m SimpleHTTPServer
</code></pre>
<p>Python3:</p>
<pre><code>python3 -m http.server


### Replacing in last command
</code></pre>
<p>^sub^to</p>
<pre><code>### Supervise command (run every 2s)
</code></pre>
<p>watch “ls -larth”</p>
<pre><code>### Kill program using one port

```bash
sudo fuser -k 8000/tcp
</code></pre>
<h3 id="limit-memory-usage-for-following-commands"><a class="header" href="#limit-memory-usage-for-following-commands">Limit memory usage for following commands</a></h3>
<pre><code>ulimit -Sv 1000       # 1000 KBs = 1 MB
ulimit -Sv unlimited  # Remove limit
</code></pre>
<h3 id="rename-selected-files-using-a-regular-expression"><a class="header" href="#rename-selected-files-using-a-regular-expression">Rename selected files using a regular expression</a></h3>
<pre><code>rename 's/\.bak$/.txt/' *.bak
</code></pre>
<h3 id="get-full-path-of-file"><a class="header" href="#get-full-path-of-file">Get full path of file</a></h3>
<pre><code>readlink -f file.txt
</code></pre>
<h3 id="list-contents-of-targz-and-extract-only-one-file"><a class="header" href="#list-contents-of-targz-and-extract-only-one-file">List contents of tar.gz and extract only one file</a></h3>
<pre><code>tar tf file.tgz
tar xf file.tgz filename }}
</code></pre>
<h3 id="list-files-by-size"><a class="header" href="#list-files-by-size">List files by size</a></h3>
<pre><code>ls -lS
</code></pre>
<h3 id="nice-trace-route"><a class="header" href="#nice-trace-route">Nice trace route</a></h3>
<pre><code>mtr google.com
</code></pre>
<h3 id="find-files-tips"><a class="header" href="#find-files-tips">Find files tips</a></h3>
<pre><code>find . -size 20c             # By file size (20 bytes)
find . -name &quot;*.gz&quot; -delete  # Delete files
find . -exec echo {} \;      # One file by line
./file1
./file2
./file3
find . -exec echo {} \+      # All in the same line
./file1 ./file2 ./file3
</code></pre>
<h3 id="print-text-ad-infinitum"><a class="header" href="#print-text-ad-infinitum">Print text ad infinitum</a></h3>
<pre><code>yes
yes hello
</code></pre>
<h3 id="who-is-logged-in"><a class="header" href="#who-is-logged-in">Who is logged in?</a></h3>
<pre><code>w
</code></pre>
<h3 id="prepend-line-number"><a class="header" href="#prepend-line-number">Prepend line number</a></h3>
<pre><code>ls | nl
</code></pre>
<h3 id="grep-with-perl-like-syntax-allows-chars-like-t"><a class="header" href="#grep-with-perl-like-syntax-allows-chars-like-t">Grep with Perl like syntax (allows chars like \t)</a></h3>
<pre><code>grep -P &quot;\t&quot;
</code></pre>
<h3 id="cat-backwards-starting-from-the-end"><a class="header" href="#cat-backwards-starting-from-the-end">Cat backwards (starting from the end)</a></h3>
<pre><code>tac file
</code></pre>
<h3 id="check-permissions-of-each-directory-to-a-file"><a class="header" href="#check-permissions-of-each-directory-to-a-file">Check permissions of each directory to a file</a></h3>
<p>It is useful to detect permissions errors, for example when configuring a web server.</p>
<pre><code>namei -l /path/to/file.txt
</code></pre>
<h3 id="run-command-every-time-a-file-is-modified"><a class="header" href="#run-command-every-time-a-file-is-modified">Run command every time a file is modified</a></h3>
<pre><code>while inotifywait -e close_write document.tex
do
    make
done
</code></pre>
<h3 id="copy-to-clipboard"><a class="header" href="#copy-to-clipboard">Copy to clipboard</a></h3>
<pre><code>cat file.txt | xclip -selection clipboard
</code></pre>
<h3 id="spell-and-grammar-check-in-latex"><a class="header" href="#spell-and-grammar-check-in-latex">Spell and grammar check in Latex</a></h3>
<pre><code>detex file.tex | diction -bs
</code></pre>
<p>You may need to install the following
sudo apt-get install diction texlive-extra-utils.</p>
<h3 id="check-resources-usage-of-command"><a class="header" href="#check-resources-usage-of-command">Check resources’ usage of command</a></h3>
<pre><code>/usr/bin/time -v ls
</code></pre>
<h3 id="randomize-lines-in-file"><a class="header" href="#randomize-lines-in-file">Randomize lines in file</a></h3>
<pre><code>cat file.txt | sort -R
cat file.txt | sort -R | head  # Pick a random sambple
</code></pre>
<h3 id="even-better-suggested-by-xearl-in-hacker-news"><a class="header" href="#even-better-suggested-by-xearl-in-hacker-news">Even better (suggested by xearl in Hacker news):</a></h3>
<pre><code>shuf file.txt
</code></pre>
<h3 id="keep-program-running-after-leaving-ssh-session"><a class="header" href="#keep-program-running-after-leaving-ssh-session">Keep program running after leaving SSH session</a></h3>
<pre><code>If the program doesn't need any interaction
nohup ./script.sh &amp;
</code></pre>
<p>If you need to enter some input manually and then want to leave</p>
<pre><code>./script.sh
&lt;Type any input you want&gt;
&lt;Ctrl-Z&gt;          # send process to sleep
jobs -l           # find out the job id
disown -h jobid   # disown job
bg                # continue running in the background
</code></pre>
<p>Of course, you can also use screen or tmux for this purpose.</p>
<h3 id="run-a-command-for-a-limited-time"><a class="header" href="#run-a-command-for-a-limited-time">Run a command for a limited time</a></h3>
<pre><code>timeout 10s ./script.sh
</code></pre>
<h3 id="restart-every-30-minutes"><a class="header" href="#restart-every-30-minutes">Restart every 30 minutes</a></h3>
<pre><code>while true; do timeout 30m ./script.sh; done
</code></pre>
<h3 id="combine-lines-from-two-sorted-files"><a class="header" href="#combine-lines-from-two-sorted-files">Combine lines from two sorted files</a></h3>
<pre><code>comm file1 file2
</code></pre>
<h3 id="split-long-file-in-files-with-same-number-of-lines"><a class="header" href="#split-long-file-in-files-with-same-number-of-lines">Split long file in files with same number of lines</a></h3>
<pre><code>split -l LINES -d file.txt output_prefix
</code></pre>
<h3 id="flush-swap-partition"><a class="header" href="#flush-swap-partition">Flush swap partition</a></h3>
<p>If a program eats too much memory, the swap can get filled with the rest of the memory and when you go back to normal, everything is slow. Just restart the swap partition to fix it:</p>
<pre><code>sudo swapoff -a
sudo swapon -a
</code></pre>
<h3 id="fix-ext4-file-system-with-problems-with-its-superblock"><a class="header" href="#fix-ext4-file-system-with-problems-with-its-superblock">Fix ext4 file system with problems with its superblock</a></h3>
<pre><code>sudo fsck.ext4 -f -y /dev/sda1
sudo fsck.ext4 -v /dev/sda1
sudo mke2fs -n /dev/sda1
sudo e2fsck -n &lt;first block number of previous list&gt; /dev/sda1
</code></pre>
<h3 id="create-empty-file-of-given-size"><a class="header" href="#create-empty-file-of-given-size">Create empty file of given size</a></h3>
<pre><code>fallocate -l 1G test.img
</code></pre>
<h3 id="manipulate-pdfs-from-the-command-line"><a class="header" href="#manipulate-pdfs-from-the-command-line">Manipulate PDFs from the command line</a></h3>
<p>To join, shuffle, select, etc. pdftk is a great tool</p>
<pre><code>pdftk *.pdf cat output all.pdf        # Join PDFs together
pdftk A=in.pdf cat A5 output out.pdf  # Extract page from PDF
</code></pre>
<p>You can also manipulate the content with cpdf</p>
<pre><code>cpdf -draft in.pdf -o out.pdf      # Remove images
cpdf -blacktext in.pdf -o out.pdf  # Convert all text to black color
</code></pre>
<h3 id="monitor-the-progress-in-terms-of-generated-output"><a class="header" href="#monitor-the-progress-in-terms-of-generated-output">Monitor the progress in terms of generated output</a></h3>
<p>Write random data, encode it in base64 and monitor how fast it
is being sent to /dev/null</p>
<pre><code>cat /dev/urandom | base64 | pv -lbri2 &gt; /dev/null
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../tech/linux/arch.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../tech/selfhosting/ideas.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../tech/linux/arch.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../tech/selfhosting/ideas.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
